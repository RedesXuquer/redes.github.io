<h1 id="servicio-ftp-con-usuarios-virtuales-de-ad-en-windows-server-2012r2">Servicio FTP con usuarios virtuales de AD en Windows Server 2012R2</h1>

<p>En este tutorial, te guiaremos a través del proceso de instalación de un servidor FTP en un entorno Windows Server, aprovechando la integración con Active Directory para gestionar usuarios y aplicando medidas de seguridad esenciales.</p>

<h2 id="paso-1-preparación-del-entorno">Paso 1: Preparación del Entorno</h2>

<p>Antes de comenzar, asegúrate de que tu servidor Windows está correctamente configurado y tiene instalado el servicio Active Directory. Esto proporcionará la base para gestionar usuarios de manera centralizada.</p>

<h2 id="paso-2-instalación-del-servicio-ftp">Paso 2: Instalación del Servicio FTP</h2>

<p>Abre el “Administrador del Servidor” en tu Windows Server.
Selecciona “Administrar” y luego “Agregar roles y características”.
Sigue el asistente de instalación, seleccionando el rol “Servidor FTP” y cualquier característica adicional que necesites.
Completa la instalación y asegúrate de habilitar la opción “Habilitar el soporte para FTP básico” y “Habilitar el soporte para FTP de escritura”.</p>

<p><img src="Captura de pantalla 2023-11-10 194121.png" alt="Alt text" />
<img src="Captura de pantalla 2023-11-10 194531.png" alt="Alt text" />
<img src="Captura de pantalla 2023-11-10 194134.png" alt="Alt text" /></p>

<p>Una vez instalado todo vamos a configurar el AD con las siguientes características:</p>
<ul>
  <li>Dominio raíz: Axuquer.local</li>
  <li>Establecemos la contraseña</li>
  <li>NetBIOS: AXUQUER</li>
</ul>

<p><img src="Captura de pantalla 2023-11-10 195344.png" alt="Alt text" />
<img src="Captura de pantalla 2023-11-10 195440.png" alt="Alt text" />
<img src="Captura de pantalla 2023-11-10 195509.png" alt="Alt text" />
<img src="Captura de pantalla 2023-11-10 195535.png" alt="Alt text" />
<img src="Captura de pantalla 2023-11-10 195550.png" alt="Alt text" />
<img src="Captura de pantalla 2023-11-10 195641.png" alt="Alt text" /></p>

<h2 id="paso-3-creación-de-usuarios-ftp-virtuales">Paso 3: Creación de usuarios FTP virtuales</h2>

<p>Vamos a crear 2 usuarios y 1 grupo:</p>
<ul>
  <li>Primer usuario: userFtp1</li>
  <li>Segundo usuario: userFtp2</li>
  <li>Grupo: usuariosFtp</li>
</ul>

<p><img src="MyFile_2023-11-10_20-06-33.png" alt="Alt text" />
<img src="MyFile_2023-11-10_20-06-41.png" alt="Alt text" /> 
<img src="MyFile_2023-11-10_20-06-49.png" alt="Alt text" />
<img src="MyFile_2023-11-10_20-06-57.png" alt="Alt text" />
<img src="MyFile_2023-11-10_20-07-26.png" alt="Alt text" />
<img src="MyFile_2023-11-10_20-07-33.png" alt="Alt text" />
<img src="MyFile_2023-11-10_20-07-57.png" alt="Alt text" />
<img src="MyFile_2023-11-10_20-08-13.png" alt="Alt text" />
<img src="MyFile_2023-11-10_20-08-50.png" alt="Alt text" />
<img src="MyFile_2023-11-10_20-09-55.png" alt="Alt text" />
<img src="MyFile_2023-11-10_20-10-01.png" alt="Alt text" />
<img src="MyFile_2023-11-10_20-10-17.png" alt="Alt text" /></p>

<h2 id="paso-4-configuración-del-servidor-ftp">Paso 4: Configuración del Servidor FTP</h2>

<p>Abre el “Administrador de IIS” (Internet Information Services).
Navega hasta el nodo del servidor y selecciona “Sitios FTP”.
Haz clic derecho en “Sitio FTP predeterminado” y selecciona “Configurar seguridad de autenticación”.
Habilita la autenticación básica.</p>

<p><img src="MyFile_2023-11-13_17-33-40.png" alt="Alt text" />
<img src="MyFile_2023-11-13_17-32-38.png" alt="Alt text" />
<img src="MyFile_2023-11-13_17-32-44.png" alt="Alt text" />
<img src="MyFile_2023-11-13_17-33-51.png" alt="Alt text" />
<img src="MyFile_2023-11-13_17-34-10.png" alt="Alt text" />
<img src="MyFile_2023-11-13_17-34-20.png" alt="Alt text" />
<img src="MyFile_2023-11-13_17-34-44.png" alt="Alt text" /></p>

<h2 id="paso-5-configuración-de-los-permisos-de-los-directorios">Paso 5: Configuración de los permisos de los directorios</h2>

<p>En el “Administrador de Servidores”, selecciona “Herramientas” y luego “Usuarios y Equipos de Active Directory”.
Crea los usuarios que necesitarás para acceder al servidor FTP.
Asegúrate de que estos usuarios tengan permisos adecuados en las carpetas del servidor FTP.
Paso 5: Establecer Seguridad Adicional</p>

<p><img src="MyFile_2023-11-13_17-35-31.png" alt="Alt text" />
<img src="MyFile_2023-11-13_17-35-03.png" alt="Alt text" />
<img src="MyFile_2023-11-13_17-35-38.png" alt="Alt text" />
<img src="MyFile_2023-11-13_17-45-26.png" alt="Alt text" />
<img src="MyFile_2023-11-13_17-45-33.png" alt="Alt text" />
<img src="MyFile_2023-11-13_17-46-08.png" alt="Alt text" /></p>

<h2 id="paso-6-activa-el-ftp-como-pasivo-y-abre-los-puertos-pertinentes">Paso 6: Activa el FTP como pasivo y abre los puertos pertinentes</h2>

<p><img src="MyFile_2023-11-13_17-58-25.png" alt="Alt text" /> <img src="MyFile_2023-11-13_17-58-00.png" alt="Alt text" /> <img src="MyFile_2023-11-13_17-58-03.png" alt="Alt text" /> <img src="MyFile_2023-11-13_17-58-07.png" alt="Alt text" /></p>

<h2 id="paso-7-activación-de-ssltls">Paso 7: Activación de SSL/TLS</h2>

<p><img src="MyFile_2023-11-13_18-00-52.png" alt="Alt text" /> <img src="MyFile_2023-11-13_17-59-58.png" alt="Alt text" /> <img src="MyFile_2023-11-13_18-00-15.png" alt="Alt text" /> <img src="MyFile_2023-11-13_18-00-28.png" alt="Alt text" /> <img src="MyFile_2023-11-13_18-00-42.png" alt="Alt text" /></p>

<p>Para mejorar la seguridad, considera las siguientes medidas:</p>

<p>Configuración de Firewall: Ajusta las reglas de firewall para permitir el tráfico FTP.
Uso de SSL/TLS: Habilita el cifrado mediante SSL/TLS para proteger la transferencia de datos.
Monitoreo de Registro: Configura el registro del servidor FTP para registrar eventos de seguridad.
Actualizaciones y Parches: Mantén tu servidor actualizado con las últimas actualizaciones de seguridad de Microsoft.
Con estos pasos, habrás instalado un servidor FTP en Windows Server, integrado con Active Directory y reforzado con medidas de seguridad. Recuerda realizar pruebas exhaustivas y ajustar la configuración según las necesidades específicas de tu entorno. ¡Ahora tu servidor FTP está listo para proporcionar un acceso seguro y gestionado a tus archivos!</p>
